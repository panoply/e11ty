var f=Object.defineProperty,g=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var c=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i=(e,t)=>{for(var r in t||(t={}))y.call(t,r)&&c(e,r,t[r]);if(u)for(var r of u(t))h.call(t,r)&&c(e,r,t[r]);return e},l=(e,t)=>g(e,d(t));import a from"papyrus";import k from"markdown-it";import p from"markdown-it-container";function x(e,t){let r=`

------------------------------------------------------------

`;console.error(r,` HIGHLIGHT ERROR
`," LANGUAGE: "+e+`

`,t,r)}function O(e,t,r){if(r)try{return{language:r,raw:t,escape:()=>e.utils.escapeHtml(t)}}catch(n){return x(r,n),e.utils.escapeHtml(t)}return e.utils.escapeHtml(t)}function b(e,{raw:t,language:r}){return e!=null&&e.language&&r in e.language?a.static(t,i({language:r},e.language[r])):e!=null&&e.default?a.static(t,i({language:r},e.default)):a.static(t,{language:r})}var L=e=>function(t,r){if(t[r].nesting===1){let n=t[r].info.trim().match(/^grid\s+(.*)$/);if(n!==null)return`<div class="${e.utils.escapeHtml(n[1])}">`}return"</div>"};function H(e,t){return e[t].nesting===1?'<blockquote class="note">':"</blockquote>"}function j(e,t){let r=Object.assign({html:!0,linkify:!0,typographer:!0,breaks:!1},t.options),n=k("default",l(i({},r),{highlight:(o,m)=>{let s=O(n,o,m);if(typeof s=="object"){if(t.papyrus)return b(t.papyrus,s);if(t.syntax)return t.syntax(s)}return o}}));return n.use(p,"note",{render:H}),n.use(p,"grid",{render:L(n)}),n.disable("code"),e.setLibrary("md",n),n}export{j as markdown};
