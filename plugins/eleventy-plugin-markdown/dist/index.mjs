var k=Object.defineProperty,b=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var u=(n,e,t)=>e in n?k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,f=(n,e)=>{for(var t in e||(e={}))x.call(e,t)&&u(n,t,e[t]);if(g)for(var t of g(e))L.call(e,t)&&u(n,t,e[t]);return n},m=(n,e)=>b(n,y(e));import w from"markdown-it";import h from"markdown-it-container";var d=`

${"-".repeat(50)}

`;function C(n,e){console.error(d,` HIGHLIGHT ERROR
`," LANGUAGE: "+n+`

`,e,d)}function H(n,e,t){if(t)try{return{language:t,raw:e,escape:()=>n.utils.escapeHtml(e)}}catch(c){return C(t,c),n.utils.escapeHtml(e)}return n.utils.escapeHtml(e)}var I=n=>function(e,t){if(e[t].nesting===1){let c=e[t].info.trim().match(/^grid\s+(.*)$/);if(c!==null)return`<div class="${n.utils.escapeHtml(c[1])}">`}return"</div>"},v=n=>function(e){function t(l){let r=l.indexOf("} "),o=l.slice(r+1).trimStart(),i=l.slice(1,r);return n({raw:o,language:i})}function c(l){for(let r=l.tokens.length-1;r>=0;r--){if(l.tokens[r].type!=="inline")continue;let o=l.tokens[r].children;for(let i=o.length-1;i>=0;i--)o[i].type==="code_inline"&&/^{\w+} /.test(o[i].content)&&(o[i].tag="",o[i].type="html_block",o[i].markup="",o[i].block=!0,o[i].content=t(o[i].content))}}e.core.ruler.push("inline_papyrus",c)};function E(n,e){return n[e].nesting===1?'<blockquote class="note">':"</blockquote>"}function G(n,e={options:{}}){var o,i;let t=Object.assign({html:!0,linkify:!0,typographer:!0,breaks:!1},e.options),c=(o=e==null?void 0:e.highlight)==null?void 0:o.block,l=(i=e==null?void 0:e.highlight)==null?void 0:i.inline;typeof(e==null?void 0:e.blocknote)!="boolean"&&(e.blocknote=!0);let r=w("default",m(f({},t),{highlight:(s,p)=>{let a=H(r,s,p);return c&&typeof a=="object"?c(a):s}}));return l&&r.use(v(l)),e.blocknote&&r.use(h,"note",{render:E}),r.use(h,"grid",{render:I(r)}),r.disable("code"),n.setLibrary("md",r),r}export{G as markdown};
